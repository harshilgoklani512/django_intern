{% extends './base.html' %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
</head>
<body>
    
    {% block content %}
    <h2><strong>Project Tasks</strong></h2>
    <a href="{% url 'create_project_task' %}" class="btn btn-primary">Add Task</a>
    {% comment %} <div class="table-responsive text-nowrap">
        <table class="table">
          <thead>
            <tr>
              <th>ModuleName</th>
              <th>Description</th>
              
              <th>Hours</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody class="table-border-bottom-0">
            
            {% for module in project_module_list %}
            <tr>
              <td>
                <i class="fab fa-angular fa-lg text-danger me-3"></i>
                <strong>{{module.name}}</strong>
              </td>
              <td>{{module.desc}}</td>
              
              <td>{{module.estimatedHrs}}</td>
              
              <td><span class="badge bg-label-primary me-1">Active</span></td>
            </tr>

            {% endfor %}
          </tbody>
        </table>
      </div> {% endcomment %}


      {% comment %} <h5 class="card-header">Projects</h5>
      <h5 class="card-header">
        <a href="{% url 'create_project_module' %}" class="btn btn-primary">Create Module</a>
      </h5> {% endcomment %}
      <div class="table-responsive text-nowrap">
        <table class="table">
          <thead>
            <tr>
              {% comment %} <th>Module</th>
              <th>Project</th> {% endcomment %}
              <th>Title</th>
              <th>Status</th>
              <th>Description</th>
              <th>Priority</th>
              
              <th>Actions</th>
            </tr>
          </thead>
          <tbody class="table-border-bottom-0">
            {% for project in task %}
            <tr>
              <td>
                
                <i class="fas fa-angle-right fa-lg  me-3"></i>
                
                <strong>{{project.title}}</strong>
                
              </td>
              {% comment %} <td>{{project.project}}</td> {% endcomment %}

              <td>
                
               {% if project.status == 'Completed' %}
                
               <span class="badge bg-label-success me-1">{{project.status}}</span>
               
               {% elif project.status == 'Pending' %}
               
               <span class="badge bg-label-warning me-1">{{project.status}}</span>
                
               {% elif project.status == 'inProgress' %}
               <span class="badge bg-label-primary me-1">{{project.status}}</span>
             
               {% else %}
             
               <span class="badge bg-label-dark me-1">{{project.status}}</span>
               {% endif %}
                
                

              </td>

              <td>{{project.desc}}</td>

              <td>
                {% if project.priority == 'High' %}
                  <span class="badge bg-danger me-1">{{project.priority}}</span>
                  {% elif project.priority == 'Low' %}
                  <span class="badge bg-success me-1">{{project.priority}}</span>
                  {% else %}
                  <span class="badge bg-warning me-1">{{project.priority}}</span>
                  {% endif %}
                
              </td>
              {% comment %} <td>{{project.desc}}</td> {% endcomment %}
              
              
              <td>
                
                <div class="dropdown">
                    <a class="dropdown-item" href="{% url 'update_task' project.id %}"
                      ><i class="bx bx-edit-alt me-1 text-primary"></i> Edit</a
                    >
                    <a class="dropdown-item" href="{% url 'delete_task' project.id %}"
                      ><i class="bx bx-trash me-1 text-danger"></i> Delete</a
                    >
                    <a class="dropdown-item" href="{% url 'assign_task' project.id %}"
                    ><i class="bx bx-detail me-1 text-warning"></i> Assign</a
                  >
                </div>
              </td>
            </tr>

            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>


    {% endblock content %}
        
    
</body>
</html>